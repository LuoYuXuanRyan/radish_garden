---
title: 'CAMEL Multi-Agent Summer Camp Task3'
publishDate: '2025-08-24'
description: 'CAMEL多智能体夏令营任务3笔记'
introText: '本文记录了CAMEL多智能体夏令营任务3的关于 Agent 的一些学习笔记。本文根据官方文档内容整理。什么是 Multi-Agent？多智能体(Multi-Agent)由多个相互作用的智能体组成，每个智能体有自己的目标和策略。多智能体中的每个智能体之间可以通信、协作和竞争，以实现更复杂的行为和策略。'
author: 'Ryan'
tags: ['MultiAgent', 'CAMEL']
slug: 'camel-multi-agent-summer-camp-task3'
---

# CAMEL Multi-Agent Summer Camp Task3

## 什么是 Multi-Agent？
多智能体(Multi-Agent)由多个相互作用的智能体组成，每个智能体有自己的目标和策略。多智能体中的每个智能体之间可以通信、协作和竞争，以实现更复杂的行为和策略。
**特点**
- 协作：智能体之间可以互相协作，共同解决问题。
- 竞争：智能体之间可以互相竞争，竞争相关内容。
- 自主性：每个智能体有一定的自主性，拥有自己的决策过程。
- 复杂性：多智能体系统之间存在通信交互，比单智能体系统更复杂。
- 鲁棒性：多智能体系统不依赖于某单一智能体的性能和稳定性。

## 多智能体系统中单个智能体的能力
作为多智能体系统中的智能体，该智能体需要具备以下能力，才能在系统中正常工作：
- 角色(Role)：设定智能体的初始状态，给定目标和能力等，引导进行多轮交互。
- 大语言模型(LLMs)：大语言模型的能力很大程度上影响着智能体的能力，包括智能体做出决策，进行行动，参与通信等。
- 记忆(Memory)：包括上下文记忆和外部记忆，上下文使得智能体可以进行多轮对话，外部记忆让智能体具有可以动态更新的知识储备。
- 工具(Tools)：智能体可以使用的一组功能，通过工具智能体可以与外部产生交互，本质上是为智能体提供具身化能力。
- 通信(Communication)：智能体之间可以进行通信，以此进行信息共享、协作和竞争等复杂行为和策略。
- 推理(Reasoning)：智能体通过推理以更有指导性的方式优化任务完成。

## Role Playing
RolePlaying 是 CAMEL 框架的独特合作式智能体框架。该框架通过预定义的提示词为不同的智能体创建唯一的初始设置，帮助智能体克服诸如角色翻转、助手重复指令、模糊回复、消息无限循环以及对话终止条件等多个挑战。

### 角色定义
- Assistant角色: 负责执行具体任务并提供解决方案的智能体
- User角色: 负责提供指令和任务需求的智能体
- 特定领域角色: 如程序员、交易员等专业角色
### 交互规则
```python
# 初始prompt示例参考
system_message = """
===== RULES OF ASSISTANT =====
1. Never forget you are a {ASSISTANT_ROLE} and I am a {USER_ROLE}
2. Never flip roles! Never instruct me!
3. You must decline my instruction honestly if you cannot perform it
4. Always start with: Solution: <YOUR_SOLUTION>
5. Always end with: Next request.
"""
```
### 关键机制
- 角色固定: 防止角色变化，维持对话的稳定性
- 格式规范: 要求回复具有固定的开始和结束格式，便于程序进行后续解析
- 任务分解: 将复杂任务分解为可执行的子任务
- 循环对话: 通过轮流发言推进任务进展
### 工作执行流程
-> 初始化阶段 
- 设定任务
- 定义角色
- 任务具体化
- 任务拆分
-> 执行阶段 (循环直至任务结束)
- User 提供具体指令
- Assistant 执行，输出执行结果

## Workforce
Workforce 是 CAMEL 框架中的一个多智能体协同工作系统。它以一种简洁的方式让多个智能体协作完成任务，类似于一个高效的团队合作系统。
### 架构设计
Workforce 采用层级架构设计。一个 workforce 可以包含多个工作节点(worker nodes)，每个工作节点可以包含一个或多个智能体作为工作者。工作节点由 workforce 内部的协调智能体(coordinator agent)管理，协调智能体根据工作节点的描述及其工具集来分配任务。
除了协调智能体外，workforce 内部还有一个任务规划智能体(task planner agent)。任务规划智能体负责任务的分解和组合，使 workforce 能够逐步解决任务。

### 通信机制
Workforce 内部的通信基于任务通道(task channel)。Workforce 初始化时会创建一个所有节点共享的通道。任务会被发布到这个通道中，每个工作节点会监听通道，接受分配给它的任务并解决。
当任务完成后，工作节点会将结果发布回通道，结果会作为其他任务的"依赖项"保留在通道中，供所有工作节点共享。
通过这种机制，workforce 能够以协作和高效的方式解决任务。

### 故障处理
Workforce具有故障处理机制。当任务失败时，协调智能体会采取行动修复。这些行动可以是：
- 将任务分解为更小的任务并重新分配
- 创建一个能够完成该任务的新工作者
目前，协调智能体根据任务被分解的次数来做决策：
- 如果任务已经被分解超过特定次数，协调智能体会创建新的工作者
- 如果没有超过，协调智能体会采取任务分解的行动
有些任务可能智能体根本无法解决。为了防止 workforce 陷入无限的智能体创建循环，如果一个任务失败次数超过特定次数（默认为3次），workforce 将会停止。